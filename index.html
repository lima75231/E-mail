<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Servidores</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      padding: 30px;
    }
    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 400px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input[type="text"],
    input[type="email"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    input[type="submit"] {
      margin-top: 15px;
      width: 100%;
      padding: 10px;
      background-color: #2a9d8f;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    input[type="submit"]:hover {
      background-color: #21867a;
    }
    .mensagem {
      text-align: center;
      margin-top: 20px;
      color: green;
      font-weight: bold;
      display: none;
    }
    .erro {
      text-align: center;
      color: red;
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <form id="formulario">
    <h2 style="text-align: center;">Cadastro de Servidores</h2>

    <label for="nome">Nome completo:</label>
    <input type="text" id="nome" required>

    <label for="email">E-mail institucional:</label>
    <input type="email" id="email" required>

    <input type="submit" value="Enviar">
  </form>

  <div class="mensagem" id="mensagemSucesso">✔️ Dados enviados com sucesso!</div>
  <div class="erro" id="mensagemErro">❌ Algo deu errado. Tente novamente.</div>

  <script>
    const formulario = document.getElementById("formulario");
    const sucesso = document.getElementById("mensagemSucesso");
    const erro = document.getElementById("mensagemErro");

    formulario.addEventListener("submit", function(e) {
      e.preventDefault();

      const nome = document.getElementById("nome").value.trim();
      const email = document.getElementById("email").value.trim().toLowerCase();

      const enviados = JSON.parse(localStorage.getItem("emails_enviados") || "[]");
      if (enviados.includes(email)) {
        alert("Este e-mail já foi cadastrado anteriormente.");
        return;
      }

      const url = "hhttps://docs.google.com/forms/d/e/1FAIpQLSeePkXRkK_3h4bJiBC4AN_TUSUr9ANeojJ7rPW0akMr6tjPBw/viewform?usp=header<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSeePkXRkK_3h4bJiBC4AN_TUSUr9ANeojJ7rPW0akMr6tjPBw/viewform?embedded=true" width="640" height="552" frameborder="0" marginheight="0" marginwidth="0">Carregando…</iframe>ttps://docs.google.com/forms/d/e/1FAIpQLSeePkXRkK_3h4bJiBC4AN_TUSUr9ANeojJ7rPW0akMr6tjPBw/viewform?usp=pp_urlhttps://docs.google.com/forms/d/e/1FAIpQLSeePkXRkK_3h4bJiBC4AN_TUSUr9ANeojJ7rPW0akMr6tjPBw/viewform?usp=header";
      const entryNome = "entry.1757408082";
      const entryEmail = "entry.768282900";

      const formData = new FormData();
      formData.append(entryNome, nome);
      formData.append(entryEmail, email);

      fetch(url, {
        method: "POST",
        mode: "no-cors",
        body: formData
      }).then(() => {
        localStorage.setItem("emails_enviados", JSON.stringify([...enviados, email]));
        formulario.style.display = "none";
        sucesso.style.display = "block";
        console.log("Enviado com sucesso!");
      }).catch((err) => {
        erro.style.display = "block";
        console.error("Erro ao enviar:", err);
      });
    });
  </script>

</body>
</html>
